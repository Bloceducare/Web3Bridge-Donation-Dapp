{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport { persistQueryClient } from \"./persist.mjs\";\nimport { QueryClientProvider } from \"../reactjs/index.mjs\";\nimport { IsRestoringProvider } from \"../reactjs/isRestoring.mjs\";\nexport const PersistQueryClientProvider = _ref => {\n  let {\n    client,\n    children,\n    persistOptions,\n    onSuccess,\n    ...props\n  } = _ref;\n  const [isRestoring, setIsRestoring] = React.useState(true);\n  const refs = React.useRef({\n    persistOptions,\n    onSuccess\n  });\n  React.useEffect(() => {\n    refs.current = {\n      persistOptions,\n      onSuccess\n    };\n  });\n  React.useEffect(() => {\n    let isStale = false;\n    setIsRestoring(true);\n    const [unsubscribe, promise] = persistQueryClient({ ...refs.current.persistOptions,\n      queryClient: client\n    });\n    promise.then(() => {\n      if (!isStale) {\n        refs.current.onSuccess == null ? void 0 : refs.current.onSuccess();\n        setIsRestoring(false);\n      }\n    });\n    return () => {\n      isStale = true;\n      unsubscribe();\n    };\n  }, [client]);\n  return /*#__PURE__*/React.createElement(QueryClientProvider, _extends({\n    client: client\n  }, props), /*#__PURE__*/React.createElement(IsRestoringProvider, {\n    value: isRestoring\n  }, children));\n};","map":{"version":3,"names":["_extends","React","persistQueryClient","QueryClientProvider","IsRestoringProvider","PersistQueryClientProvider","client","children","persistOptions","onSuccess","props","isRestoring","setIsRestoring","useState","refs","useRef","useEffect","current","isStale","unsubscribe","promise","queryClient","then","createElement","value"],"sources":["/home/king-longs/Desktop/final/node_modules/react-query/lib/persistQueryClient/PersistQueryClientProvider.mjs"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport { persistQueryClient } from \"./persist.mjs\";\nimport { QueryClientProvider } from \"../reactjs/index.mjs\";\nimport { IsRestoringProvider } from \"../reactjs/isRestoring.mjs\";\nexport const PersistQueryClientProvider = ({\n  client,\n  children,\n  persistOptions,\n  onSuccess,\n  ...props\n}) => {\n  const [isRestoring, setIsRestoring] = React.useState(true);\n  const refs = React.useRef({\n    persistOptions,\n    onSuccess\n  });\n  React.useEffect(() => {\n    refs.current = {\n      persistOptions,\n      onSuccess\n    };\n  });\n  React.useEffect(() => {\n    let isStale = false;\n    setIsRestoring(true);\n    const [unsubscribe, promise] = persistQueryClient({ ...refs.current.persistOptions,\n      queryClient: client\n    });\n    promise.then(() => {\n      if (!isStale) {\n        refs.current.onSuccess == null ? void 0 : refs.current.onSuccess();\n        setIsRestoring(false);\n      }\n    });\n    return () => {\n      isStale = true;\n      unsubscribe();\n    };\n  }, [client]);\n  return /*#__PURE__*/React.createElement(QueryClientProvider, _extends({\n    client: client\n  }, props), /*#__PURE__*/React.createElement(IsRestoringProvider, {\n    value: isRestoring\n  }, children));\n};"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gCAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,eAAnC;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,SAASC,mBAAT,QAAoC,4BAApC;AACA,OAAO,MAAMC,0BAA0B,GAAG,QAMpC;EAAA,IANqC;IACzCC,MADyC;IAEzCC,QAFyC;IAGzCC,cAHyC;IAIzCC,SAJyC;IAKzC,GAAGC;EALsC,CAMrC;EACJ,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,KAAK,CAACY,QAAN,CAAe,IAAf,CAAtC;EACA,MAAMC,IAAI,GAAGb,KAAK,CAACc,MAAN,CAAa;IACxBP,cADwB;IAExBC;EAFwB,CAAb,CAAb;EAIAR,KAAK,CAACe,SAAN,CAAgB,MAAM;IACpBF,IAAI,CAACG,OAAL,GAAe;MACbT,cADa;MAEbC;IAFa,CAAf;EAID,CALD;EAMAR,KAAK,CAACe,SAAN,CAAgB,MAAM;IACpB,IAAIE,OAAO,GAAG,KAAd;IACAN,cAAc,CAAC,IAAD,CAAd;IACA,MAAM,CAACO,WAAD,EAAcC,OAAd,IAAyBlB,kBAAkB,CAAC,EAAE,GAAGY,IAAI,CAACG,OAAL,CAAaT,cAAlB;MAChDa,WAAW,EAAEf;IADmC,CAAD,CAAjD;IAGAc,OAAO,CAACE,IAAR,CAAa,MAAM;MACjB,IAAI,CAACJ,OAAL,EAAc;QACZJ,IAAI,CAACG,OAAL,CAAaR,SAAb,IAA0B,IAA1B,GAAiC,KAAK,CAAtC,GAA0CK,IAAI,CAACG,OAAL,CAAaR,SAAb,EAA1C;QACAG,cAAc,CAAC,KAAD,CAAd;MACD;IACF,CALD;IAMA,OAAO,MAAM;MACXM,OAAO,GAAG,IAAV;MACAC,WAAW;IACZ,CAHD;EAID,CAhBD,EAgBG,CAACb,MAAD,CAhBH;EAiBA,OAAO,aAAaL,KAAK,CAACsB,aAAN,CAAoBpB,mBAApB,EAAyCH,QAAQ,CAAC;IACpEM,MAAM,EAAEA;EAD4D,CAAD,EAElEI,KAFkE,CAAjD,EAET,aAAaT,KAAK,CAACsB,aAAN,CAAoBnB,mBAApB,EAAyC;IAC/DoB,KAAK,EAAEb;EADwD,CAAzC,EAErBJ,QAFqB,CAFJ,CAApB;AAKD,CAxCM"},"metadata":{},"sourceType":"module"}